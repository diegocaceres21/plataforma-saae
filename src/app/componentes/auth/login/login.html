<div class="login-wrapper min-h-screen flex items-center justify-center bg-white font-sans p-4">
  <div class="card w-full max-w-md bg-white rounded-xl shadow-lg p-8 border border-gray-100 relative overflow-hidden">
    <div class="logo flex justify-center mb-6">
  <!-- El logo se sirve desde public/logo.png al estar en la raíz (como en menu.html) -->
  <img src="logo.png" alt="Logo" class="h-20 w-auto select-none" draggable="false" />
    </div>
    <h1 class="title text-2xl font-bold text-center text-blue-900 mb-2">Ingresar</h1>
    <p class="subtitle text-sm text-center text-gray-500 mb-6">Accede a la plataforma SAAE</p>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="flex flex-col gap-4">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1" for="username">Usuario</label>
        <input id="username" name="username" type="text" required [(ngModel)]="form.username"
               class="w-full rounded-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" />
      </div>
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1" for="password">Contraseña</label>
        <input id="password" name="password" type="password" required minlength="4" [(ngModel)]="form.password"
               class="w-full rounded-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" />
      </div>

      <button type="submit" [disabled]="isLoading || loginForm.invalid"
              class="w-full py-3 rounded-lg font-semibold text-white bg-blue-900 hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition">
        <span *ngIf="!isLoading">Entrar</span>
        <span *ngIf="isLoading" class="loader border-2 border-white border-t-transparent rounded-full w-5 h-5 animate-spin"></span>
      </button>
    </form>

    <div *ngIf="error" class="mt-4 text-sm text-red-600 text-center">{{ error }}</div>
    <div *ngIf="!error && siaanWarning" class="mt-4 text-xs text-amber-600 text-center">{{ siaanWarning }}</div>
  </div>
</div>
